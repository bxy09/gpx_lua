# 数据相关函数

用户可以通过函数获取当前时刻的行情，行情信息包括基本的K线数据以及用户在公式编辑环节所编写或选择的技术指标。用户还可以获取由诸葛量化指标智能搜索算法所提供的智能指标。我们将会在不久以后开放基本面数据。

------------
```
price(target)
```
得到标的的最新价格。

| 参数名称 | 类型 | 说明 |
| ----   | --| -- |
|target| 字符串 | 标的，例如 "000001.SZ"|

返回值为价格数值，如果参数标的不在用户股票池内，则返回0。

------------
```
isSuspend(target)
```
判断当前该标的是否停牌。

| 参数名称 | 类型 | 说明 |
| ----   | --| -- |
|target| 字符串 | 标的，例如 "000001.SZ"|

返回值为`true`或`false`，如果标的不在股票池内，或停牌，将返回`true`否则返回`false`。

------------
```
getBar(target, word)
```
获取某个标的的行情数值（例如`CLOSE`）或者某个技术指标（例如`MA5`）。

| 参数名称 | 类型 | 说明 |
| ----   | --| -- |
|target| 字符串 | 标的，例如 "000001.SZ"|
|word| 字符串 | 字段名称，例如 "CLOSE", "MA5"|

当标的以及字段存在时，返回相应的数值，当不存在时，返回`nil`。

------------
```
bar()
```
<span style="color:red">注意：</span>因为效率原因，该函数不推荐使用，请使用 `getBar` 来获取数据)

获取当前股市各标的各项指标。

返回值为一个两级 table，第一级的键为各个股票标的名称（字符串，例如 000001.SZ），第二级键为技术指标名称（字符串，例如 CLOSE, MA5）.该返回值中只包括未停牌的股票池内的股票数据。


------------
```
formula(target, idx)
```
第`idx`号智能指标在指定标的`target`下的数值。

| 参数名称 | 类型 | 说明 |
| ----   | --| -- |
|target| 字符串 | 标的，例如 "000001.SZ"|
| idx | 整数 | 0 到 n-1，智能指标编号 |

当标的与智能指标存在时（没有超过用户设置的数量），则返回该指标当前数值。
如果存在错误，则返回nil以及错误原因（字符串）两个返回值。

-------------
后续将提供历史数据的接口，敬请期待。


[回到目录](README.md)

